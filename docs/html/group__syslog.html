<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.18"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>MLIB: Syslog Emulator</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">MLIB
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.18 -->
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',false,false,'search.php','Search');
});
/* @license-end */</script>
<div id="main-nav"></div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#func-members">Functions</a>  </div>
  <div class="headertitle">
<div class="title">Syslog Emulator</div>  </div>
</div><!--header-->
<div class="contents">

<p>Emulation of Unix syslog functionality.  
<a href="#details">More...</a></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:ga6f1f3704c08cc51ad17680056d67bdf4"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__syslog.html#ga6f1f3704c08cc51ad17680056d67bdf4">openlog</a> (const char *ident, int option, int facility)</td></tr>
<tr class="memdesc:ga6f1f3704c08cc51ad17680056d67bdf4"><td class="mdescLeft">&#160;</td><td class="mdescRight">Open connection to logger.  <a href="group__syslog.html#ga6f1f3704c08cc51ad17680056d67bdf4">More...</a><br /></td></tr>
<tr class="separator:ga6f1f3704c08cc51ad17680056d67bdf4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga0fd9642bc9066d5c4012cbbca8993bd8"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__syslog.html#ga0fd9642bc9066d5c4012cbbca8993bd8">closelog</a> ()</td></tr>
<tr class="memdesc:ga0fd9642bc9066d5c4012cbbca8993bd8"><td class="mdescLeft">&#160;</td><td class="mdescRight">Close connection to logger.  <a href="group__syslog.html#ga0fd9642bc9066d5c4012cbbca8993bd8">More...</a><br /></td></tr>
<tr class="separator:ga0fd9642bc9066d5c4012cbbca8993bd8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gad9738ced32624b84aac71be08bd347b0"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__syslog.html#gad9738ced32624b84aac71be08bd347b0">syslog</a> (int facility_priority, char *fmt,...)</td></tr>
<tr class="memdesc:gad9738ced32624b84aac71be08bd347b0"><td class="mdescLeft">&#160;</td><td class="mdescRight">Generate a log message using FMT string and option arguments.  <a href="group__syslog.html#gad9738ced32624b84aac71be08bd347b0">More...</a><br /></td></tr>
<tr class="separator:gad9738ced32624b84aac71be08bd347b0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga79f76e80518dce884dab21fa3f18a1f4"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__syslog.html#ga79f76e80518dce884dab21fa3f18a1f4">setlogmask</a> (int mask)</td></tr>
<tr class="memdesc:ga79f76e80518dce884dab21fa3f18a1f4"><td class="mdescLeft">&#160;</td><td class="mdescRight">Set the log mask level.  <a href="group__syslog.html#ga79f76e80518dce884dab21fa3f18a1f4">More...</a><br /></td></tr>
<tr class="separator:ga79f76e80518dce884dab21fa3f18a1f4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gaec437cc017de835e256a121cccfc62c0"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__syslog.html#gaec437cc017de835e256a121cccfc62c0">setlogopt</a> (int opt)</td></tr>
<tr class="memdesc:gaec437cc017de835e256a121cccfc62c0"><td class="mdescLeft">&#160;</td><td class="mdescRight">Set option flags.  <a href="group__syslog.html#gaec437cc017de835e256a121cccfc62c0">More...</a><br /></td></tr>
<tr class="separator:gaec437cc017de835e256a121cccfc62c0"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<p>For the most part the functions are compatible with standard BSD syslog functions. The only significant addition is the set_log_ini_param function that allows control of syslog options from an INI file. </p>
<h2 class="groupheader">Function Documentation</h2>
<a id="ga0fd9642bc9066d5c4012cbbca8993bd8"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga0fd9642bc9066d5c4012cbbca8993bd8">&#9670;&nbsp;</a></span>closelog()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void closelog </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>closelog also resets the identification string for syslog messages back to the default, if openlog was called with a non-NULL argument to ident. The default identification string is the program name. </p>

</div>
</div>
<a id="ga6f1f3704c08cc51ad17680056d67bdf4"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga6f1f3704c08cc51ad17680056d67bdf4">&#9670;&nbsp;</a></span>openlog()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void openlog </td>
          <td>(</td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>ident</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>option</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>facility</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">ident</td><td>string prepended to every message, typically set to the program name.</td></tr>
    <tr><td class="paramname">option</td><td>flags which control the operation of subsequent calls to <a class="el" href="group__syslog.html#gad9738ced32624b84aac71be08bd347b0" title="Generate a log message using FMT string and option arguments.">syslog()</a>.</td></tr>
    <tr><td class="paramname">facility</td><td>establishes a default to be used if none is specified in subsequent calls to <a class="el" href="group__syslog.html#gad9738ced32624b84aac71be08bd347b0" title="Generate a log message using FMT string and option arguments.">syslog()</a></td></tr>
  </table>
  </dd>
</dl>
<p>The use of openlog is optional; it will automatically be called by <a class="el" href="group__syslog.html#gad9738ced32624b84aac71be08bd347b0" title="Generate a log message using FMT string and option arguments.">syslog()</a> if necessary, in which case <code>ident</code> will default to NULL.</p>
<p>If <code>ident</code> is NULL, or if openlog is not called, the default identification string used in syslog messages will be the program name.</p>
<p>You can cause the syslog to drop the reference to <code>ident</code> and go back to the default string (the program name), by calling <a class="el" href="group__syslog.html#ga0fd9642bc9066d5c4012cbbca8993bd8" title="Close connection to logger.">closelog()</a>. </p>

</div>
</div>
<a id="ga79f76e80518dce884dab21fa3f18a1f4"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga79f76e80518dce884dab21fa3f18a1f4">&#9670;&nbsp;</a></span>setlogmask()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int setlogmask </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>mask</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>The <a class="el" href="group__syslog.html#ga79f76e80518dce884dab21fa3f18a1f4" title="Set the log mask level.">setlogmask()</a> function sets this logmask for the current process, and returns the previous mask. If the mask argument is 0, the current logmask is not modified.</p>
<p>A process has a log priority mask that determines which calls to syslog may be logged. All other calls will be ignored. Logging is enabled for the priorities that have the corresponding bit set in mask.</p>
<p>setlogmask sets a mask (the "logmask") that determines which future syslog calls shall be ignored. You can use setlogmask to specify that messages of particular priorities shall be ignored in the future.</p>
<p>If a program has not called setlogmask, the default mask loaded from the INI file (through set_log_ini_param() function) is used. If there is no mask specified in INI file the default is to process everything except LOG_DEBUG.</p>
<p>A setlogmask call overrides any previous setlogmask call.</p>
<p>Note that the logmask exists entirely independently of opening and closing of Syslog connections.</p>
<p>mask is a bit string with one bit corresponding to each of the possible message priorities. If the bit is on, syslog handles messages of that priority normally. If it is off, syslog discards messages of that priority.</p>
<p>Use the message priority values described in &lt;<a class="el" href="log_8h.html">log.h</a>&gt; and the LOG_MASK or LOG_UPTO macros to construct an appropriate mask value, as in this example:</p>
<p><a class="el" href="log_8h.html#a12b268e754674380f5c5df9a488a6311" title="mask for one priority">LOG_MASK(LOG_EMERG)</a> | <a class="el" href="log_8h.html#a12b268e754674380f5c5df9a488a6311" title="mask for one priority">LOG_MASK(LOG_ERROR)</a></p>
<p>or</p>
<p>~(<a class="el" href="log_8h.html#a12b268e754674380f5c5df9a488a6311" title="mask for one priority">LOG_MASK(LOG_INFO)</a>)</p>
<p>The LOG_UPTO macro generates a mask with the bits on for a certain priority and all priorities above it:</p>
<p><a class="el" href="log_8h.html#af55a665e2caa1cb189cf7391349ab418">LOG_UPTO(LOG_ERROR)</a></p>
<p>The unfortunate naming of the macro is due to the fact that internally, higher numbers are used for lower message priorities. <br  />
 </p>

</div>
</div>
<a id="gaec437cc017de835e256a121cccfc62c0"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gaec437cc017de835e256a121cccfc62c0">&#9670;&nbsp;</a></span>setlogopt()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int setlogopt </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>opt</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">opt</td><td>can be any combination of LOGOPT_... values.</td></tr>
  </table>
  </dd>
</dl>
<p>For instance </p><pre class="fragment">    setlogoption (LOGOPT_FILE | LOGOPT_NOUDP)
</pre><p> <br  />
 turns on file logging and turns off sending of UDP data.</p>
<p>The new options take effect immediately. </p>

</div>
</div>
<a id="gad9738ced32624b84aac71be08bd347b0"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gad9738ced32624b84aac71be08bd347b0">&#9670;&nbsp;</a></span>syslog()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void syslog </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>facility_priority</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>fmt</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>...</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">facility_priority</td><td>combined facility and priority value. See below. </td></tr>
    <tr><td class="paramname">fmt</td><td>printf-like format string </td></tr>
    <tr><td class="paramname">...</td><td>any other arguments required by format</td></tr>
  </table>
  </dd>
</dl>
<p>If the corresponding priority bit in log mask is set, (see <a class="el" href="group__syslog.html#ga79f76e80518dce884dab21fa3f18a1f4" title="Set the log mask level.">setlogmask()</a>) syslog submits the message with the facility and priority for processing.</p>
<p>The message is prepended with an identification string set in <a class="el" href="group__syslog.html#ga6f1f3704c08cc51ad17680056d67bdf4" title="Open connection to logger.">openlog()</a> or by the program name if openlog hasn't been called.</p>
<p>The macro LOG_MAKEPRI generates a facility/priority from a facility and a priority, as in the following example: </p><pre class="fragment">    LOG_MAKEPRI(LOG_USER, LOG_WARNING)
</pre><p>Example: </p><pre class="fragment">       syslog (LOG_MAKEPRI(LOG_USER, LOG_ERROR),
          "Unable to make network connection to %s.", host );
</pre> 
</div>
</div>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated on Wed Jul 8 2020 21:54:04 for MLIB by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.18
</small></address>
</body>
</html>
