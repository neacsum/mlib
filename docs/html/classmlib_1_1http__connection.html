<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.18"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>MLIB: mlib::http_connection Class Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">MLIB
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.18 -->
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',false,false,'search.php','Search');
});
/* @license-end */</script>
<div id="main-nav"></div>
<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><b>mlib</b></li><li class="navelem"><a class="el" href="classmlib_1_1http__connection.html">http_connection</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#nested-classes">Classes</a> &#124;
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="#pro-methods">Protected Member Functions</a> &#124;
<a href="#pro-attribs">Protected Attributes</a> &#124;
<a href="#friends">Friends</a> &#124;
<a href="classmlib_1_1http__connection-members.html">List of all members</a>  </div>
  <div class="headertitle">
<div class="title">mlib::http_connection Class Reference<div class="ingroups"><a class="el" href="group__sockets.html">Networking Objects</a></div></div>  </div>
</div><!--header-->
<div class="contents">

<p>Representation of a HTTP client connection request.  
 <a href="classmlib_1_1http__connection.html#details">More...</a></p>

<p><code>#include &lt;<a class="el" href="httpd_8h_source.html">httpd.h</a>&gt;</code></p>
<div class="dynheader">
Inheritance diagram for mlib::http_connection:</div>
<div class="dyncontent">
 <div class="center">
  <img src="classmlib_1_1http__connection.png" usemap="#mlib::http_5Fconnection_map" alt=""/>
  <map id="mlib::http_5Fconnection_map" name="mlib::http_5Fconnection_map">
<area href="classmlib_1_1thread.html" title="Wrapper for a Windows thread." alt="mlib::thread" shape="rect" coords="0,56,129,80"/>
<area href="classmlib_1_1syncbase.html" title="Base class for all named synchronization objects." alt="mlib::syncbase" shape="rect" coords="0,0,129,24"/>
  </map>
</div></div>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:a80a8e0b359567063d98d519d0f16fa2e"><td class="memItemLeft" align="right" valign="top"><a id="a80a8e0b359567063d98d519d0f16fa2e"></a>
const char *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classmlib_1_1http__connection.html#a80a8e0b359567063d98d519d0f16fa2e">get_uri</a> () const</td></tr>
<tr class="memdesc:a80a8e0b359567063d98d519d0f16fa2e"><td class="mdescLeft">&#160;</td><td class="mdescRight">Return URI of this connection. <br /></td></tr>
<tr class="separator:a80a8e0b359567063d98d519d0f16fa2e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a02beeecd347b6f5ecb4df04b499b8138"><td class="memItemLeft" align="right" valign="top"><a id="a02beeecd347b6f5ecb4df04b499b8138"></a>
const char *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classmlib_1_1http__connection.html#a02beeecd347b6f5ecb4df04b499b8138">get_method</a> () const</td></tr>
<tr class="memdesc:a02beeecd347b6f5ecb4df04b499b8138"><td class="mdescLeft">&#160;</td><td class="mdescRight">Return HTTP method (GET, POST, etc.) <br /></td></tr>
<tr class="separator:a02beeecd347b6f5ecb4df04b499b8138"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a85d2a0eeb7a8cd8b71cb88a403f3ac22"><td class="memItemLeft" align="right" valign="top"><a id="a85d2a0eeb7a8cd8b71cb88a403f3ac22"></a>
const char *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classmlib_1_1http__connection.html#a85d2a0eeb7a8cd8b71cb88a403f3ac22">get_all_ihdr</a> () const</td></tr>
<tr class="memdesc:a85d2a0eeb7a8cd8b71cb88a403f3ac22"><td class="mdescLeft">&#160;</td><td class="mdescRight">Return all incoming headers. <br /></td></tr>
<tr class="separator:a85d2a0eeb7a8cd8b71cb88a403f3ac22"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af460570290c158b30ccc18316932bb03"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classmlib_1_1http__connection.html#af460570290c158b30ccc18316932bb03">add_ohdr</a> (const char *hdr, const char *value)</td></tr>
<tr class="memdesc:af460570290c158b30ccc18316932bb03"><td class="mdescLeft">&#160;</td><td class="mdescRight">Add or modify a response header.  <a href="classmlib_1_1http__connection.html#af460570290c158b30ccc18316932bb03">More...</a><br /></td></tr>
<tr class="separator:af460570290c158b30ccc18316932bb03"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7a141a5dca65b7bd93dea1d75b85b233"><td class="memItemLeft" align="right" valign="top">const char *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classmlib_1_1http__connection.html#a7a141a5dca65b7bd93dea1d75b85b233">get_ihdr</a> (const char *hdr) const</td></tr>
<tr class="memdesc:a7a141a5dca65b7bd93dea1d75b85b233"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns the value of a request header.  <a href="classmlib_1_1http__connection.html#a7a141a5dca65b7bd93dea1d75b85b233">More...</a><br /></td></tr>
<tr class="separator:a7a141a5dca65b7bd93dea1d75b85b233"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a06c7ecc32fb0eab8417b8b7ae1d96868"><td class="memItemLeft" align="right" valign="top">const char *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classmlib_1_1http__connection.html#a06c7ecc32fb0eab8417b8b7ae1d96868">get_ohdr</a> (const char *hdr) const</td></tr>
<tr class="memdesc:a06c7ecc32fb0eab8417b8b7ae1d96868"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns the value of a response header.  <a href="classmlib_1_1http__connection.html#a06c7ecc32fb0eab8417b8b7ae1d96868">More...</a><br /></td></tr>
<tr class="separator:a06c7ecc32fb0eab8417b8b7ae1d96868"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a073e8cf00dff9b20083cd7f97014ea27"><td class="memItemLeft" align="right" valign="top"><a id="a073e8cf00dff9b20083cd7f97014ea27"></a>
const char *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classmlib_1_1http__connection.html#a073e8cf00dff9b20083cd7f97014ea27">get_query</a> () const</td></tr>
<tr class="memdesc:a073e8cf00dff9b20083cd7f97014ea27"><td class="mdescLeft">&#160;</td><td class="mdescRight">Return URI query string (everything after '?' and before '#') <br /></td></tr>
<tr class="separator:a073e8cf00dff9b20083cd7f97014ea27"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af6ad5cfd23a402e8fe4935a4a3d2d8b2"><td class="memItemLeft" align="right" valign="top"><a id="af6ad5cfd23a402e8fe4935a4a3d2d8b2"></a>
const char *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classmlib_1_1http__connection.html#af6ad5cfd23a402e8fe4935a4a3d2d8b2">get_body</a> () const</td></tr>
<tr class="memdesc:af6ad5cfd23a402e8fe4935a4a3d2d8b2"><td class="mdescLeft">&#160;</td><td class="mdescRight">Return request body. <br /></td></tr>
<tr class="separator:af6ad5cfd23a402e8fe4935a4a3d2d8b2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8fa39b2f57950fc5938e5c65445aac6f"><td class="memItemLeft" align="right" valign="top"><a id="a8fa39b2f57950fc5938e5c65445aac6f"></a>
int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classmlib_1_1http__connection.html#a8fa39b2f57950fc5938e5c65445aac6f">get_content_length</a> () const</td></tr>
<tr class="memdesc:a8fa39b2f57950fc5938e5c65445aac6f"><td class="mdescLeft">&#160;</td><td class="mdescRight">Return request body. <br /></td></tr>
<tr class="separator:a8fa39b2f57950fc5938e5c65445aac6f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae00ed779083d227ef762968af1e458ab"><td class="memItemLeft" align="right" valign="top">const std::string &amp;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classmlib_1_1http__connection.html#ae00ed779083d227ef762968af1e458ab">get_qparam</a> (const char *key)</td></tr>
<tr class="memdesc:ae00ed779083d227ef762968af1e458ab"><td class="mdescLeft">&#160;</td><td class="mdescRight">Return the value of a query parameter or the empty string if the query doesn't have the parameter.  <a href="classmlib_1_1http__connection.html#ae00ed779083d227ef762968af1e458ab">More...</a><br /></td></tr>
<tr class="separator:ae00ed779083d227ef762968af1e458ab"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac013a7b91bc3641fe037f5f0248982d0"><td class="memItemLeft" align="right" valign="top"><a id="ac013a7b91bc3641fe037f5f0248982d0"></a>
bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classmlib_1_1http__connection.html#ac013a7b91bc3641fe037f5f0248982d0">has_qparam</a> (const char *key)</td></tr>
<tr class="memdesc:ac013a7b91bc3641fe037f5f0248982d0"><td class="mdescLeft">&#160;</td><td class="mdescRight">Return true if the query contains the given parameter. <br /></td></tr>
<tr class="separator:ac013a7b91bc3641fe037f5f0248982d0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a17da5ac8751e9dae1d642d778a83ce2e"><td class="memItemLeft" align="right" valign="top"><a id="a17da5ac8751e9dae1d642d778a83ce2e"></a>
const std::string &amp;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classmlib_1_1http__connection.html#a17da5ac8751e9dae1d642d778a83ce2e">get_bparam</a> (const char *key)</td></tr>
<tr class="memdesc:a17da5ac8751e9dae1d642d778a83ce2e"><td class="mdescLeft">&#160;</td><td class="mdescRight">Return the value of a form parameter or the empty string if the body doesn't have the parameter. <br /></td></tr>
<tr class="separator:a17da5ac8751e9dae1d642d778a83ce2e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a63df9ef5db32712e4555d17b0ebab178"><td class="memItemLeft" align="right" valign="top"><a id="a63df9ef5db32712e4555d17b0ebab178"></a>
bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classmlib_1_1http__connection.html#a63df9ef5db32712e4555d17b0ebab178">has_bparam</a> (const char *key)</td></tr>
<tr class="memdesc:a63df9ef5db32712e4555d17b0ebab178"><td class="mdescLeft">&#160;</td><td class="mdescRight">Return true if the body contains the given parameter. <br /></td></tr>
<tr class="separator:a63df9ef5db32712e4555d17b0ebab178"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a30e116c1148e81eab6cec980fc0576f6"><td class="memItemLeft" align="right" valign="top"><a id="a30e116c1148e81eab6cec980fc0576f6"></a>
<a class="el" href="wsockstream_8h.html#a44dfa66af462d30cbd8362222490d996">sockstream</a> &amp;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classmlib_1_1http__connection.html#a30e116c1148e81eab6cec980fc0576f6">out</a> ()</td></tr>
<tr class="memdesc:a30e116c1148e81eab6cec980fc0576f6"><td class="mdescLeft">&#160;</td><td class="mdescRight">Return socket object associated with this connection. <br /></td></tr>
<tr class="separator:a30e116c1148e81eab6cec980fc0576f6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a95826552af0b4c14274bed416a3b02fd"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classmlib_1_1http__connection.html#a95826552af0b4c14274bed416a3b02fd">respond</a> (unsigned int code, const char *reason=0)</td></tr>
<tr class="memdesc:a95826552af0b4c14274bed416a3b02fd"><td class="mdescLeft">&#160;</td><td class="mdescRight">Send the beginning of HTTP response.  <a href="classmlib_1_1http__connection.html#a95826552af0b4c14274bed416a3b02fd">More...</a><br /></td></tr>
<tr class="separator:a95826552af0b4c14274bed416a3b02fd"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:afc364e15e38689a0118977f4bc4bebcd"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classmlib_1_1http__connection.html#afc364e15e38689a0118977f4bc4bebcd">redirect</a> (const char *uri, unsigned int code=303)</td></tr>
<tr class="memdesc:afc364e15e38689a0118977f4bc4bebcd"><td class="mdescLeft">&#160;</td><td class="mdescRight">Generate a HTTP redirect response to a new uri.  <a href="classmlib_1_1http__connection.html#afc364e15e38689a0118977f4bc4bebcd">More...</a><br /></td></tr>
<tr class="separator:afc364e15e38689a0118977f4bc4bebcd"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:abcf47788e71b594ed678570465ce80ab"><td class="memItemLeft" align="right" valign="top"><a id="abcf47788e71b594ed678570465ce80ab"></a>
void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classmlib_1_1http__connection.html#abcf47788e71b594ed678570465ce80ab">serve404</a> (const char *text=0)</td></tr>
<tr class="memdesc:abcf47788e71b594ed678570465ce80ab"><td class="mdescLeft">&#160;</td><td class="mdescRight">Sends a 404 (page not found) response. <br /></td></tr>
<tr class="separator:abcf47788e71b594ed678570465ce80ab"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac16026b7a77167b83f437c064e834be9"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classmlib_1_1http__connection.html#ac16026b7a77167b83f437c064e834be9">serve_file</a> (const std::string &amp;full_path)</td></tr>
<tr class="memdesc:ac16026b7a77167b83f437c064e834be9"><td class="mdescLeft">&#160;</td><td class="mdescRight">Send the content of a file.  <a href="classmlib_1_1http__connection.html#ac16026b7a77167b83f437c064e834be9">More...</a><br /></td></tr>
<tr class="separator:ac16026b7a77167b83f437c064e834be9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a84a5edd5a608d12309c43744d4667944"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classmlib_1_1http__connection.html#a84a5edd5a608d12309c43744d4667944">serve_shtml</a> (const std::string &amp;full_path)</td></tr>
<tr class="memdesc:a84a5edd5a608d12309c43744d4667944"><td class="mdescLeft">&#160;</td><td class="mdescRight">Send the content of a file, processing any SSI directives.  <a href="classmlib_1_1http__connection.html#a84a5edd5a608d12309c43744d4667944">More...</a><br /></td></tr>
<tr class="separator:a84a5edd5a608d12309c43744d4667944"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a40b894fb6281c37d41ac13cdaddf0ad0"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classmlib_1_1http__connection.html#a40b894fb6281c37d41ac13cdaddf0ad0">serve_buffer</a> (const BYTE *buffer, size_t sz)</td></tr>
<tr class="memdesc:a40b894fb6281c37d41ac13cdaddf0ad0"><td class="mdescLeft">&#160;</td><td class="mdescRight">Send the content of a buffer.  <a href="classmlib_1_1http__connection.html#a40b894fb6281c37d41ac13cdaddf0ad0">More...</a><br /></td></tr>
<tr class="separator:a40b894fb6281c37d41ac13cdaddf0ad0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a41394cb2ff3c06630144aa059e03f9b6"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classmlib_1_1http__connection.html#a41394cb2ff3c06630144aa059e03f9b6">serve_buffer</a> (const std::string &amp;str)</td></tr>
<tr class="memdesc:a41394cb2ff3c06630144aa059e03f9b6"><td class="mdescLeft">&#160;</td><td class="mdescRight">Send the content of a string.  <a href="classmlib_1_1http__connection.html#a41394cb2ff3c06630144aa059e03f9b6">More...</a><br /></td></tr>
<tr class="separator:a41394cb2ff3c06630144aa059e03f9b6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:acb9866789c1b624e44e86b3f8f560ca1"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classmlib_1_1http__connection.html#acb9866789c1b624e44e86b3f8f560ca1">respond_part</a> (const char *part_type, const char *bound)</td></tr>
<tr class="memdesc:acb9866789c1b624e44e86b3f8f560ca1"><td class="mdescLeft">&#160;</td><td class="mdescRight">Send first part of a multi-part response.  <a href="classmlib_1_1http__connection.html#acb9866789c1b624e44e86b3f8f560ca1">More...</a><br /></td></tr>
<tr class="separator:acb9866789c1b624e44e86b3f8f560ca1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2bad66e627d192dc62311b928a061ab7"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classmlib_1_1http__connection.html#a2bad66e627d192dc62311b928a061ab7">respond_next</a> (bool last)</td></tr>
<tr class="memdesc:a2bad66e627d192dc62311b928a061ab7"><td class="mdescLeft">&#160;</td><td class="mdescRight">Send subsequent parts of a multi-part response.  <a href="classmlib_1_1http__connection.html#a2bad66e627d192dc62311b928a061ab7">More...</a><br /></td></tr>
<tr class="separator:a2bad66e627d192dc62311b928a061ab7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="inherit_header pub_methods_classmlib_1_1thread"><td colspan="2" onclick="javascript:toggleInherit('pub_methods_classmlib_1_1thread')"><img src="closed.png" alt="-"/>&#160;Public Member Functions inherited from <a class="el" href="classmlib_1_1thread.html">mlib::thread</a></td></tr>
<tr class="memitem:a7bef398179d60cfcb816c34ef8c43cd3 inherit pub_methods_classmlib_1_1thread"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classmlib_1_1thread.html#a7bef398179d60cfcb816c34ef8c43cd3">thread</a> (std::function&lt; int()&gt; func, const char *<a class="el" href="classmlib_1_1syncbase.html#ae56b7e140e7c723cfdcc58849b429e58">name</a>=0)</td></tr>
<tr class="memdesc:a7bef398179d60cfcb816c34ef8c43cd3 inherit pub_methods_classmlib_1_1thread"><td class="mdescLeft">&#160;</td><td class="mdescRight">Make a thread from a function.  <a href="classmlib_1_1thread.html#a7bef398179d60cfcb816c34ef8c43cd3">More...</a><br /></td></tr>
<tr class="separator:a7bef398179d60cfcb816c34ef8c43cd3 inherit pub_methods_classmlib_1_1thread"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa628a385d15b1a426ab696a0b60bdc76 inherit pub_methods_classmlib_1_1thread"><td class="memItemLeft" align="right" valign="top">virtual&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classmlib_1_1thread.html#aa628a385d15b1a426ab696a0b60bdc76">~thread</a> ()</td></tr>
<tr class="memdesc:aa628a385d15b1a426ab696a0b60bdc76 inherit pub_methods_classmlib_1_1thread"><td class="mdescLeft">&#160;</td><td class="mdescRight">Destructor.  <a href="classmlib_1_1thread.html#aa628a385d15b1a426ab696a0b60bdc76">More...</a><br /></td></tr>
<tr class="separator:aa628a385d15b1a426ab696a0b60bdc76 inherit pub_methods_classmlib_1_1thread"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae14ce5ccdb7ec7a41fe6e8d8ce385867 inherit pub_methods_classmlib_1_1thread"><td class="memItemLeft" align="right" valign="top"><a id="ae14ce5ccdb7ec7a41fe6e8d8ce385867"></a>
virtual void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classmlib_1_1thread.html#ae14ce5ccdb7ec7a41fe6e8d8ce385867">start</a> ()</td></tr>
<tr class="memdesc:ae14ce5ccdb7ec7a41fe6e8d8ce385867 inherit pub_methods_classmlib_1_1thread"><td class="mdescLeft">&#160;</td><td class="mdescRight">Begin execution of a newly created thread. <br /></td></tr>
<tr class="separator:ae14ce5ccdb7ec7a41fe6e8d8ce385867 inherit pub_methods_classmlib_1_1thread"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab8ce3b852987ea38225fd45972885946 inherit pub_methods_classmlib_1_1thread"><td class="memItemLeft" align="right" valign="top"><a id="ab8ce3b852987ea38225fd45972885946"></a>
DWORD&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classmlib_1_1thread.html#ab8ce3b852987ea38225fd45972885946">id</a> () const</td></tr>
<tr class="memdesc:ab8ce3b852987ea38225fd45972885946 inherit pub_methods_classmlib_1_1thread"><td class="mdescLeft">&#160;</td><td class="mdescRight">Return thread's id. <br /></td></tr>
<tr class="separator:ab8ce3b852987ea38225fd45972885946 inherit pub_methods_classmlib_1_1thread"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af9d40e9c3711406169113fee8f50b6b2 inherit pub_methods_classmlib_1_1thread"><td class="memItemLeft" align="right" valign="top"><a id="af9d40e9c3711406169113fee8f50b6b2"></a>
UINT&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classmlib_1_1thread.html#af9d40e9c3711406169113fee8f50b6b2">exitcode</a> () const</td></tr>
<tr class="memdesc:af9d40e9c3711406169113fee8f50b6b2 inherit pub_methods_classmlib_1_1thread"><td class="mdescLeft">&#160;</td><td class="mdescRight">Return exit code. <br /></td></tr>
<tr class="separator:af9d40e9c3711406169113fee8f50b6b2 inherit pub_methods_classmlib_1_1thread"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6193c4d87bb9e9f53063e61717884521 inherit pub_methods_classmlib_1_1thread"><td class="memItemLeft" align="right" valign="top"><a id="a6193c4d87bb9e9f53063e61717884521"></a>
bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classmlib_1_1thread.html#a6193c4d87bb9e9f53063e61717884521">is_running</a> () const</td></tr>
<tr class="memdesc:a6193c4d87bb9e9f53063e61717884521 inherit pub_methods_classmlib_1_1thread"><td class="mdescLeft">&#160;</td><td class="mdescRight">Return <em>true</em> if thread is running. <br /></td></tr>
<tr class="separator:a6193c4d87bb9e9f53063e61717884521 inherit pub_methods_classmlib_1_1thread"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7121a1aaf0e184b970e08873b63863cb inherit pub_methods_classmlib_1_1thread"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classmlib_1_1thread.html#a7121a1aaf0e184b970e08873b63863cb">priority</a> ()</td></tr>
<tr class="memdesc:a7121a1aaf0e184b970e08873b63863cb inherit pub_methods_classmlib_1_1thread"><td class="mdescLeft">&#160;</td><td class="mdescRight">Return thread's priority.  <a href="classmlib_1_1thread.html#a7121a1aaf0e184b970e08873b63863cb">More...</a><br /></td></tr>
<tr class="separator:a7121a1aaf0e184b970e08873b63863cb inherit pub_methods_classmlib_1_1thread"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a52cdfa4d09089b6a0257bf14d745532e inherit pub_methods_classmlib_1_1thread"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classmlib_1_1thread.html#a52cdfa4d09089b6a0257bf14d745532e">priority</a> (int pri)</td></tr>
<tr class="memdesc:a52cdfa4d09089b6a0257bf14d745532e inherit pub_methods_classmlib_1_1thread"><td class="mdescLeft">&#160;</td><td class="mdescRight">Change thread's priority.  <a href="classmlib_1_1thread.html#a52cdfa4d09089b6a0257bf14d745532e">More...</a><br /></td></tr>
<tr class="separator:a52cdfa4d09089b6a0257bf14d745532e inherit pub_methods_classmlib_1_1thread"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aac31af0ef5f148943e1ee7e9eed34964 inherit pub_methods_classmlib_1_1thread"><td class="memItemLeft" align="right" valign="top">virtual void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classmlib_1_1thread.html#aac31af0ef5f148943e1ee7e9eed34964">resume</a> ()</td></tr>
<tr class="memdesc:aac31af0ef5f148943e1ee7e9eed34964 inherit pub_methods_classmlib_1_1thread"><td class="mdescLeft">&#160;</td><td class="mdescRight">Resume a suspended thread.  <a href="classmlib_1_1thread.html#aac31af0ef5f148943e1ee7e9eed34964">More...</a><br /></td></tr>
<tr class="separator:aac31af0ef5f148943e1ee7e9eed34964 inherit pub_methods_classmlib_1_1thread"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a46a0d50faa8b7a4ff831323881d38aff inherit pub_methods_classmlib_1_1thread"><td class="memItemLeft" align="right" valign="top">virtual void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classmlib_1_1thread.html#a46a0d50faa8b7a4ff831323881d38aff">suspend</a> ()</td></tr>
<tr class="memdesc:a46a0d50faa8b7a4ff831323881d38aff inherit pub_methods_classmlib_1_1thread"><td class="mdescLeft">&#160;</td><td class="mdescRight">Suspend a running thread.  <a href="classmlib_1_1thread.html#a46a0d50faa8b7a4ff831323881d38aff">More...</a><br /></td></tr>
<tr class="separator:a46a0d50faa8b7a4ff831323881d38aff inherit pub_methods_classmlib_1_1thread"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="inherit_header pub_methods_classmlib_1_1syncbase"><td colspan="2" onclick="javascript:toggleInherit('pub_methods_classmlib_1_1syncbase')"><img src="closed.png" alt="-"/>&#160;Public Member Functions inherited from <a class="el" href="classmlib_1_1syncbase.html">mlib::syncbase</a></td></tr>
<tr class="memitem:a53d7265f70ab184894a9b7acf72270ed inherit pub_methods_classmlib_1_1syncbase"><td class="memItemLeft" align="right" valign="top"><a id="a53d7265f70ab184894a9b7acf72270ed"></a>
&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classmlib_1_1syncbase.html#a53d7265f70ab184894a9b7acf72270ed">syncbase</a> ()</td></tr>
<tr class="memdesc:a53d7265f70ab184894a9b7acf72270ed inherit pub_methods_classmlib_1_1syncbase"><td class="mdescLeft">&#160;</td><td class="mdescRight">Default constructor. <br /></td></tr>
<tr class="separator:a53d7265f70ab184894a9b7acf72270ed inherit pub_methods_classmlib_1_1syncbase"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a72c3da0fa265b42fe8df0f44743f2fec inherit pub_methods_classmlib_1_1syncbase"><td class="memItemLeft" align="right" valign="top"><a id="a72c3da0fa265b42fe8df0f44743f2fec"></a>
&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classmlib_1_1syncbase.html#a72c3da0fa265b42fe8df0f44743f2fec">syncbase</a> (const <a class="el" href="classmlib_1_1syncbase.html">syncbase</a> &amp;e)</td></tr>
<tr class="memdesc:a72c3da0fa265b42fe8df0f44743f2fec inherit pub_methods_classmlib_1_1syncbase"><td class="mdescLeft">&#160;</td><td class="mdescRight">Copy constructor. <br /></td></tr>
<tr class="separator:a72c3da0fa265b42fe8df0f44743f2fec inherit pub_methods_classmlib_1_1syncbase"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af4b87692ea47f63cd5d0875e78d5b1ce inherit pub_methods_classmlib_1_1syncbase"><td class="memItemLeft" align="right" valign="top"><a id="af4b87692ea47f63cd5d0875e78d5b1ce"></a>
virtual&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classmlib_1_1syncbase.html#af4b87692ea47f63cd5d0875e78d5b1ce">~syncbase</a> ()</td></tr>
<tr class="memdesc:af4b87692ea47f63cd5d0875e78d5b1ce inherit pub_methods_classmlib_1_1syncbase"><td class="mdescLeft">&#160;</td><td class="mdescRight">Destructor. <br /></td></tr>
<tr class="separator:af4b87692ea47f63cd5d0875e78d5b1ce inherit pub_methods_classmlib_1_1syncbase"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a92cb60a149d1222e56266c2f46d5fef8 inherit pub_methods_classmlib_1_1syncbase"><td class="memItemLeft" align="right" valign="top"><a id="a92cb60a149d1222e56266c2f46d5fef8"></a>
<a class="el" href="classmlib_1_1syncbase.html">syncbase</a> &amp;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classmlib_1_1syncbase.html#a92cb60a149d1222e56266c2f46d5fef8">operator=</a> (const <a class="el" href="classmlib_1_1syncbase.html">syncbase</a> &amp;rhs)</td></tr>
<tr class="memdesc:a92cb60a149d1222e56266c2f46d5fef8 inherit pub_methods_classmlib_1_1syncbase"><td class="mdescLeft">&#160;</td><td class="mdescRight">Assignment operator. <br /></td></tr>
<tr class="separator:a92cb60a149d1222e56266c2f46d5fef8 inherit pub_methods_classmlib_1_1syncbase"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac234da6fda029f7b5dc4da701a674110 inherit pub_methods_classmlib_1_1syncbase"><td class="memItemLeft" align="right" valign="top"><a id="ac234da6fda029f7b5dc4da701a674110"></a>
int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classmlib_1_1syncbase.html#ac234da6fda029f7b5dc4da701a674110">operator==</a> (const <a class="el" href="classmlib_1_1syncbase.html">syncbase</a> &amp;rhs) const</td></tr>
<tr class="memdesc:ac234da6fda029f7b5dc4da701a674110 inherit pub_methods_classmlib_1_1syncbase"><td class="mdescLeft">&#160;</td><td class="mdescRight">Equality operator. <br /></td></tr>
<tr class="separator:ac234da6fda029f7b5dc4da701a674110 inherit pub_methods_classmlib_1_1syncbase"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a99433891d3ccd92884b2e003c4c5e7ca inherit pub_methods_classmlib_1_1syncbase"><td class="memItemLeft" align="right" valign="top"><a id="a99433891d3ccd92884b2e003c4c5e7ca"></a>
virtual DWORD&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classmlib_1_1syncbase.html#a99433891d3ccd92884b2e003c4c5e7ca">wait</a> (DWORD time_limit=INFINITE)</td></tr>
<tr class="memdesc:a99433891d3ccd92884b2e003c4c5e7ca inherit pub_methods_classmlib_1_1syncbase"><td class="mdescLeft">&#160;</td><td class="mdescRight">Wait for the object to become signaled. <br /></td></tr>
<tr class="separator:a99433891d3ccd92884b2e003c4c5e7ca inherit pub_methods_classmlib_1_1syncbase"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a96f190fef9906dbc9641ff73859a3ef7 inherit pub_methods_classmlib_1_1syncbase"><td class="memItemLeft" align="right" valign="top">virtual DWORD&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classmlib_1_1syncbase.html#a96f190fef9906dbc9641ff73859a3ef7">wait_alertable</a> (DWORD time_limit=INFINITE)</td></tr>
<tr class="separator:a96f190fef9906dbc9641ff73859a3ef7 inherit pub_methods_classmlib_1_1syncbase"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1b5ac0ea188cd5ae7c71fd29c0bbcf95 inherit pub_methods_classmlib_1_1syncbase"><td class="memItemLeft" align="right" valign="top"><a id="a1b5ac0ea188cd5ae7c71fd29c0bbcf95"></a>
virtual DWORD&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classmlib_1_1syncbase.html#a1b5ac0ea188cd5ae7c71fd29c0bbcf95">wait_msg</a> (DWORD time_limit=INFINITE, DWORD mask=QS_ALLINPUT)</td></tr>
<tr class="memdesc:a1b5ac0ea188cd5ae7c71fd29c0bbcf95 inherit pub_methods_classmlib_1_1syncbase"><td class="mdescLeft">&#160;</td><td class="mdescRight">Wait for object to become signaled or a message to be queued. <br /></td></tr>
<tr class="separator:a1b5ac0ea188cd5ae7c71fd29c0bbcf95 inherit pub_methods_classmlib_1_1syncbase"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a91ff6bb88625c70d65c7c546ccc70646 inherit pub_methods_classmlib_1_1syncbase"><td class="memItemLeft" align="right" valign="top"><a id="a91ff6bb88625c70d65c7c546ccc70646"></a>
virtual&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classmlib_1_1syncbase.html#a91ff6bb88625c70d65c7c546ccc70646">operator bool</a> ()</td></tr>
<tr class="memdesc:a91ff6bb88625c70d65c7c546ccc70646 inherit pub_methods_classmlib_1_1syncbase"><td class="mdescLeft">&#160;</td><td class="mdescRight">Check if object is signaled. <br /></td></tr>
<tr class="separator:a91ff6bb88625c70d65c7c546ccc70646 inherit pub_methods_classmlib_1_1syncbase"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a65a37516b49ec619763745be562de675 inherit pub_methods_classmlib_1_1syncbase"><td class="memItemLeft" align="right" valign="top">virtual bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classmlib_1_1syncbase.html#a65a37516b49ec619763745be562de675">try_wait</a> ()</td></tr>
<tr class="memdesc:a65a37516b49ec619763745be562de675 inherit pub_methods_classmlib_1_1syncbase"><td class="mdescLeft">&#160;</td><td class="mdescRight">Try to wait on the object.  <a href="classmlib_1_1syncbase.html#a65a37516b49ec619763745be562de675">More...</a><br /></td></tr>
<tr class="separator:a65a37516b49ec619763745be562de675 inherit pub_methods_classmlib_1_1syncbase"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a05c53e6550875d2576e92767110a2086 inherit pub_methods_classmlib_1_1syncbase"><td class="memItemLeft" align="right" valign="top"><a id="a05c53e6550875d2576e92767110a2086"></a>
HANDLE&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classmlib_1_1syncbase.html#a05c53e6550875d2576e92767110a2086">handle</a> () const</td></tr>
<tr class="memdesc:a05c53e6550875d2576e92767110a2086 inherit pub_methods_classmlib_1_1syncbase"><td class="mdescLeft">&#160;</td><td class="mdescRight">Return OS handle of this object. <br /></td></tr>
<tr class="separator:a05c53e6550875d2576e92767110a2086 inherit pub_methods_classmlib_1_1syncbase"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae56b7e140e7c723cfdcc58849b429e58 inherit pub_methods_classmlib_1_1syncbase"><td class="memItemLeft" align="right" valign="top"><a id="ae56b7e140e7c723cfdcc58849b429e58"></a>
virtual const std::string &amp;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classmlib_1_1syncbase.html#ae56b7e140e7c723cfdcc58849b429e58">name</a> () const</td></tr>
<tr class="memdesc:ae56b7e140e7c723cfdcc58849b429e58 inherit pub_methods_classmlib_1_1syncbase"><td class="mdescLeft">&#160;</td><td class="mdescRight">Return object's name. <br /></td></tr>
<tr class="separator:ae56b7e140e7c723cfdcc58849b429e58 inherit pub_methods_classmlib_1_1syncbase"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab1bda26710008892552a0b90145b29b3 inherit pub_methods_classmlib_1_1syncbase"><td class="memItemLeft" align="right" valign="top">virtual void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classmlib_1_1syncbase.html#ab1bda26710008892552a0b90145b29b3">name</a> (const char *nam)</td></tr>
<tr class="memdesc:ab1bda26710008892552a0b90145b29b3 inherit pub_methods_classmlib_1_1syncbase"><td class="mdescLeft">&#160;</td><td class="mdescRight">Sets object's name.  <a href="classmlib_1_1syncbase.html#ab1bda26710008892552a0b90145b29b3">More...</a><br /></td></tr>
<tr class="separator:ab1bda26710008892552a0b90145b29b3 inherit pub_methods_classmlib_1_1syncbase"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pro-methods"></a>
Protected Member Functions</h2></td></tr>
<tr class="memitem:a24e16cd89102495aec1bbae8319675d7"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classmlib_1_1http__connection.html#a24e16cd89102495aec1bbae8319675d7">http_connection</a> (<a class="el" href="classmlib_1_1sock.html">sock</a> &amp;socket, <a class="el" href="classmlib_1_1httpd.html">httpd</a> &amp;server)</td></tr>
<tr class="memdesc:a24e16cd89102495aec1bbae8319675d7"><td class="mdescLeft">&#160;</td><td class="mdescRight">Protected constructor used by httpd class to create a new connection thread.  <a href="classmlib_1_1http__connection.html#a24e16cd89102495aec1bbae8319675d7">More...</a><br /></td></tr>
<tr class="separator:a24e16cd89102495aec1bbae8319675d7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aab57ff5ac7425f2a838c32a8a098453e"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classmlib_1_1http__connection.html#aab57ff5ac7425f2a838c32a8a098453e">run</a> ()</td></tr>
<tr class="memdesc:aab57ff5ac7425f2a838c32a8a098453e"><td class="mdescLeft">&#160;</td><td class="mdescRight">Thread run loop.  <a href="classmlib_1_1http__connection.html#aab57ff5ac7425f2a838c32a8a098453e">More...</a><br /></td></tr>
<tr class="separator:aab57ff5ac7425f2a838c32a8a098453e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa84d969f80f603e24a136ca09b5cb143"><td class="memItemLeft" align="right" valign="top"><a id="aa84d969f80f603e24a136ca09b5cb143"></a>
bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classmlib_1_1http__connection.html#aa84d969f80f603e24a136ca09b5cb143">term</a> ()</td></tr>
<tr class="memdesc:aa84d969f80f603e24a136ca09b5cb143"><td class="mdescLeft">&#160;</td><td class="mdescRight">Finalization function called after run. <br /></td></tr>
<tr class="separator:aa84d969f80f603e24a136ca09b5cb143"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="inherit_header pro_methods_classmlib_1_1thread"><td colspan="2" onclick="javascript:toggleInherit('pro_methods_classmlib_1_1thread')"><img src="closed.png" alt="-"/>&#160;Protected Member Functions inherited from <a class="el" href="classmlib_1_1thread.html">mlib::thread</a></td></tr>
<tr class="memitem:ae6e1bf4420830c6cde9026f057b9d61e inherit pro_methods_classmlib_1_1thread"><td class="memItemLeft" align="right" valign="top"><a id="ae6e1bf4420830c6cde9026f057b9d61e"></a>
&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classmlib_1_1thread.html#ae6e1bf4420830c6cde9026f057b9d61e">thread</a> (const char *<a class="el" href="classmlib_1_1syncbase.html#ae56b7e140e7c723cfdcc58849b429e58">name</a>=0, bool inherit=false, DWORD stack_size=0, PSECURITY_DESCRIPTOR sd=NULL)</td></tr>
<tr class="memdesc:ae6e1bf4420830c6cde9026f057b9d61e inherit pro_methods_classmlib_1_1thread"><td class="mdescLeft">&#160;</td><td class="mdescRight">Constructor for another thread. <br /></td></tr>
<tr class="separator:ae6e1bf4420830c6cde9026f057b9d61e inherit pro_methods_classmlib_1_1thread"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad0a8582acb1edd11c1bdfc7eb514980c inherit pro_methods_classmlib_1_1thread"><td class="memItemLeft" align="right" valign="top"><a id="ad0a8582acb1edd11c1bdfc7eb514980c"></a>
virtual bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classmlib_1_1thread.html#ad0a8582acb1edd11c1bdfc7eb514980c">init</a> ()</td></tr>
<tr class="memdesc:ad0a8582acb1edd11c1bdfc7eb514980c inherit pro_methods_classmlib_1_1thread"><td class="mdescLeft">&#160;</td><td class="mdescRight">Initialization function called before run. <br /></td></tr>
<tr class="separator:ad0a8582acb1edd11c1bdfc7eb514980c inherit pro_methods_classmlib_1_1thread"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="inherit_header pro_methods_classmlib_1_1syncbase"><td colspan="2" onclick="javascript:toggleInherit('pro_methods_classmlib_1_1syncbase')"><img src="closed.png" alt="-"/>&#160;Protected Member Functions inherited from <a class="el" href="classmlib_1_1syncbase.html">mlib::syncbase</a></td></tr>
<tr class="memitem:a39317049ecfd5bd8b5f0bee250163ab9 inherit pro_methods_classmlib_1_1syncbase"><td class="memItemLeft" align="right" valign="top"><a id="a39317049ecfd5bd8b5f0bee250163ab9"></a>
&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classmlib_1_1syncbase.html#a39317049ecfd5bd8b5f0bee250163ab9">syncbase</a> (const char *<a class="el" href="classmlib_1_1syncbase.html#ae56b7e140e7c723cfdcc58849b429e58">name</a>)</td></tr>
<tr class="memdesc:a39317049ecfd5bd8b5f0bee250163ab9 inherit pro_methods_classmlib_1_1syncbase"><td class="mdescLeft">&#160;</td><td class="mdescRight">Protected constructor. <br /></td></tr>
<tr class="separator:a39317049ecfd5bd8b5f0bee250163ab9 inherit pro_methods_classmlib_1_1syncbase"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4302a7986b6f5d7cc3f0b2c28496c990 inherit pro_methods_classmlib_1_1syncbase"><td class="memItemLeft" align="right" valign="top"><a id="a4302a7986b6f5d7cc3f0b2c28496c990"></a>
void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classmlib_1_1syncbase.html#a4302a7986b6f5d7cc3f0b2c28496c990">set_handle</a> (HANDLE h)</td></tr>
<tr class="memdesc:a4302a7986b6f5d7cc3f0b2c28496c990 inherit pro_methods_classmlib_1_1syncbase"><td class="mdescLeft">&#160;</td><td class="mdescRight">Change object's handle. Closes the previous one. <br /></td></tr>
<tr class="separator:a4302a7986b6f5d7cc3f0b2c28496c990 inherit pro_methods_classmlib_1_1syncbase"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pro-attribs"></a>
Protected Attributes</h2></td></tr>
<tr class="memitem:a938d778c4b0b55a079a79d7eeb7b0b29"><td class="memItemLeft" align="right" valign="top"><a id="a938d778c4b0b55a079a79d7eeb7b0b29"></a>
<a class="el" href="classmlib_1_1httpd.html">httpd</a> &amp;&#160;</td><td class="memItemRight" valign="bottom"><b>parent</b></td></tr>
<tr class="separator:a938d778c4b0b55a079a79d7eeb7b0b29"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a62c42f301211bad5b8e9763bb9edc461"><td class="memItemLeft" align="right" valign="top"><a id="a62c42f301211bad5b8e9763bb9edc461"></a>
<a class="el" href="wsockstream_8h.html#a44dfa66af462d30cbd8362222490d996">sockstream</a>&#160;</td><td class="memItemRight" valign="bottom"><b>ws</b></td></tr>
<tr class="separator:a62c42f301211bad5b8e9763bb9edc461"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="inherit_header pro_attribs_classmlib_1_1thread"><td colspan="2" onclick="javascript:toggleInherit('pro_attribs_classmlib_1_1thread')"><img src="closed.png" alt="-"/>&#160;Protected Attributes inherited from <a class="el" href="classmlib_1_1thread.html">mlib::thread</a></td></tr>
<tr class="memitem:adc9f802493a247284522918691af62ea inherit pro_attribs_classmlib_1_1thread"><td class="memItemLeft" align="right" valign="top"><a id="adc9f802493a247284522918691af62ea"></a>
UINT&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classmlib_1_1thread.html#adc9f802493a247284522918691af62ea">exitcode_</a></td></tr>
<tr class="memdesc:adc9f802493a247284522918691af62ea inherit pro_attribs_classmlib_1_1thread"><td class="mdescLeft">&#160;</td><td class="mdescRight">exit code <br /></td></tr>
<tr class="separator:adc9f802493a247284522918691af62ea inherit pro_attribs_classmlib_1_1thread"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="friends"></a>
Friends</h2></td></tr>
<tr class="memitem:ae4ded9b6be54cdc08b705a36eb047f1c"><td class="memItemLeft" align="right" valign="top"><a id="ae4ded9b6be54cdc08b705a36eb047f1c"></a>
class&#160;</td><td class="memItemRight" valign="bottom"><b>httpd</b></td></tr>
<tr class="separator:ae4ded9b6be54cdc08b705a36eb047f1c"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>This is the thread created by the httpd server object in response to a new connection request.</p>
<p>After construction, the thread is started automatically by the server and it begins listening to its connection socket and process HTTP requests. When the HTTP client closes the connection the thread is stopped and destructed.</p>
<p>Users can create derived classes but the parent server must also be a class derived from httpd with an overridden <a class="el" href="classmlib_1_1httpd.html#a42dff0bbdf913f525aba3dcca4ef68b7" title="Create an new http_connection object for a new incoming connection.">httpd::make_thread</a> function.</p>
<p>The request processing cycle starts with the receiving a client request, validating, processing it and sending back the reply. The processing part implies either calling a user handler function if one was registered for the URI or serving a file.</p>
<p>Most of the public functions are designed for the benefit of user handler functions. The handler function is called before sending any type of reply to the HTTP client. </p>
</div><h2 class="groupheader">Constructor &amp; Destructor Documentation</h2>
<a id="a24e16cd89102495aec1bbae8319675d7"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a24e16cd89102495aec1bbae8319675d7">&#9670;&nbsp;</a></span>http_connection()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">mlib::http_connection::http_connection </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classmlib_1_1sock.html">sock</a> &amp;&#160;</td>
          <td class="paramname"><em>socket</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classmlib_1_1httpd.html">httpd</a> &amp;&#160;</td>
          <td class="paramname"><em>server</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">socket</td><td>connecting socket </td></tr>
    <tr><td class="paramname">server</td><td>parent server object</td></tr>
  </table>
  </dd>
</dl>
<p>As it has only a protected constructor it is not possible for users of this class to directly create this object. Derived classes should maintain this convention. </p>

</div>
</div>
<h2 class="groupheader">Member Function Documentation</h2>
<a id="af460570290c158b30ccc18316932bb03"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af460570290c158b30ccc18316932bb03">&#9670;&nbsp;</a></span>add_ohdr()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void mlib::http_connection::add_ohdr </td>
          <td>(</td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>hdr</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>value</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">hdr</td><td>header name </td></tr>
    <tr><td class="paramname">value</td><td>header value</td></tr>
  </table>
  </dd>
</dl>
<p>To have any effect, this function should be called before calling the response() (or serve_...) function as all headers are sent at that time. </p>

</div>
</div>
<a id="a7a141a5dca65b7bd93dea1d75b85b233"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a7a141a5dca65b7bd93dea1d75b85b233">&#9670;&nbsp;</a></span>get_ihdr()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">const char * mlib::http_connection::get_ihdr </td>
          <td>(</td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>hdr</em></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
</div><div class="memdoc">
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">hdr</td><td>header name </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>header value or 0 if the request does not have this header </dd></dl>

</div>
</div>
<a id="a06c7ecc32fb0eab8417b8b7ae1d96868"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a06c7ecc32fb0eab8417b8b7ae1d96868">&#9670;&nbsp;</a></span>get_ohdr()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">const char * mlib::http_connection::get_ohdr </td>
          <td>(</td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>hdr</em></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>The header can belong either to server or to connection.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">hdr</td><td>header name</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>header field value or 0 if there is no such header defined. </dd></dl>

</div>
</div>
<a id="ae00ed779083d227ef762968af1e458ab"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae00ed779083d227ef762968af1e458ab">&#9670;&nbsp;</a></span>get_qparam()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">const std::string &amp; mlib::http_connection::get_qparam </td>
          <td>(</td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>key</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">key</td><td>query parameter to look for </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>parameter value or empty string if parameter is not found.</dd></dl>
<p>Even though query parameters and their values are URL encoded, the returned value is decoded.</p>
<p>The function also returns an empty string if the parameter exists but it doesn't have a value. For instance <code>get_qparam("mypar")</code> will return an empty string for any of these queries: <code><a href="http://example.com/page/">http://example.com/page/</a></code> and <code><a href="http://examplre.com/page?mypar">http://examplre.com/page?mypar</a></code>. You can use the function <a class="el" href="classmlib_1_1http__connection.html#ac013a7b91bc3641fe037f5f0248982d0" title="Return true if the query contains the given parameter.">http_connection::has_qparam()</a> to distinguish between the two cases. </p>

</div>
</div>
<a id="afc364e15e38689a0118977f4bc4bebcd"></a>
<h2 class="memtitle"><span class="permalink"><a href="#afc364e15e38689a0118977f4bc4bebcd">&#9670;&nbsp;</a></span>redirect()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void mlib::http_connection::redirect </td>
          <td>(</td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>uri</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned int&#160;</td>
          <td class="paramname"><em>code</em> = <code>303</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">uri</td><td>redirected uri </td></tr>
    <tr><td class="paramname">code</td><td>redirect code </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a95826552af0b4c14274bed416a3b02fd"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a95826552af0b4c14274bed416a3b02fd">&#9670;&nbsp;</a></span>respond()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void mlib::http_connection::respond </td>
          <td>(</td>
          <td class="paramtype">unsigned int&#160;</td>
          <td class="paramname"><em>code</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>reason</em> = <code>0</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">code</td><td>HTTP response code </td></tr>
    <tr><td class="paramname">reason</td><td>reason-phrase. If NULL a standard reason-phrase is used.</td></tr>
  </table>
  </dd>
</dl>
<p>First time the function sends the status line and headers of the HTTP response: </p><pre class="fragment">  HTTP/1.1 &lt;code&gt; &lt;text&gt;
  ...
  server headers
  ...
  connection headers
</pre><p>In subsequent calls it sends only connection headers (to support multi-part responses) </p>

</div>
</div>
<a id="a2bad66e627d192dc62311b928a061ab7"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a2bad66e627d192dc62311b928a061ab7">&#9670;&nbsp;</a></span>respond_next()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void mlib::http_connection::respond_next </td>
          <td>(</td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>last</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">last</td><td><em>true</em> if this is the last part of the mulit-part response</td></tr>
  </table>
  </dd>
</dl>
<p>This function should be called only after a call to <a class="el" href="classmlib_1_1http__connection.html#acb9866789c1b624e44e86b3f8f560ca1" title="Send first part of a multi-part response.">respond_part()</a> function. </p>

</div>
</div>
<a id="acb9866789c1b624e44e86b3f8f560ca1"></a>
<h2 class="memtitle"><span class="permalink"><a href="#acb9866789c1b624e44e86b3f8f560ca1">&#9670;&nbsp;</a></span>respond_part()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void mlib::http_connection::respond_part </td>
          <td>(</td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>part_type</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>bound</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">part_type</td><td>value of the 'Content-Type' header </td></tr>
    <tr><td class="paramname">bound</td><td>part boundary string </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="aab57ff5ac7425f2a838c32a8a098453e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aab57ff5ac7425f2a838c32a8a098453e">&#9670;&nbsp;</a></span>run()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void mlib::http_connection::run </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>The loop collects the client request, parses, validates and processes it. </p>

<p>Reimplemented from <a class="el" href="classmlib_1_1thread.html#a7364e7fb5e90830d68e820f8de910181">mlib::thread</a>.</p>

</div>
</div>
<a id="a40b894fb6281c37d41ac13cdaddf0ad0"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a40b894fb6281c37d41ac13cdaddf0ad0">&#9670;&nbsp;</a></span>serve_buffer() <span class="overload">[1/2]</span></h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int mlib::http_connection::serve_buffer </td>
          <td>(</td>
          <td class="paramtype">const BYTE *&#160;</td>
          <td class="paramname"><em>src_buff</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t&#160;</td>
          <td class="paramname"><em>sz</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">src_buff</td><td>buffer to send </td></tr>
    <tr><td class="paramname">sz</td><td>buffer length</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>0 if successful or one of the following codes: </dd></dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">HTTPD_ERR_WRITE</td><td>- socket write failure</td></tr>
  </table>
  </dd>
</dl>
<p>The buffer is preceded by "Content-Length" header. </p>

</div>
</div>
<a id="a41394cb2ff3c06630144aa059e03f9b6"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a41394cb2ff3c06630144aa059e03f9b6">&#9670;&nbsp;</a></span>serve_buffer() <span class="overload">[2/2]</span></h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int mlib::http_connection::serve_buffer </td>
          <td>(</td>
          <td class="paramtype">const std::string &amp;&#160;</td>
          <td class="paramname"><em>str</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">str</td><td>string to send</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>0 if successful or one of the following codes: </dd></dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">HTTPD_ERR_WRITE</td><td>- socket write failure</td></tr>
  </table>
  </dd>
</dl>
<p>The string is preceded by "Content-Length" header. </p>

</div>
</div>
<a id="ac16026b7a77167b83f437c064e834be9"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac16026b7a77167b83f437c064e834be9">&#9670;&nbsp;</a></span>serve_file()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int mlib::http_connection::serve_file </td>
          <td>(</td>
          <td class="paramtype">const std::string &amp;&#160;</td>
          <td class="paramname"><em>full_path</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">full_path</td><td>fully qualified path name (UTF8 encoded)</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>0 if successful or one of the following codes: </dd></dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">HTTPD_ERR_WRITE</td><td>- socket write failure </td></tr>
    <tr><td class="paramname">HTTPD_ERR_FOPEN</td><td>- file open failure </td></tr>
    <tr><td class="paramname">HTTPD_ERR_FREAD</td><td>- file read failure</td></tr>
  </table>
  </dd>
</dl>
<p>The file is preceded by "Content-Length" header. </p>

</div>
</div>
<a id="a84a5edd5a608d12309c43744d4667944"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a84a5edd5a608d12309c43744d4667944">&#9670;&nbsp;</a></span>serve_shtml()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int mlib::http_connection::serve_shtml </td>
          <td>(</td>
          <td class="paramtype">const std::string &amp;&#160;</td>
          <td class="paramname"><em>full_path</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">full_path</td><td>fully qualified file name (UTF8 encoded)</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>0 if successful or one of the following values: </dd></dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">-1</td><td>socket write failure </td></tr>
    <tr><td class="paramname">-2</td><td>file open error</td></tr>
  </table>
  </dd>
</dl>
<p>As we don't know the size of the response, the file is sent without a "Content-Length" header. </p>

</div>
</div>
<hr/>The documentation for this class was generated from the following files:<ul>
<li>C:/development/mlib/include/mlib/<a class="el" href="httpd_8h_source.html">httpd.h</a></li>
<li>C:/development/mlib/source/<a class="el" href="httpd_8cpp.html">httpd.cpp</a></li>
</ul>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated on Wed Jul 8 2020 21:54:04 for MLIB by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.18
</small></address>
</body>
</html>
