<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.18"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>MLIB: Error Error Handling</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">MLIB
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.18 -->
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',false,false,'search.php','Search');
});
/* @license-end */</script>
<div id="main-nav"></div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#nested-classes">Classes</a>  </div>
  <div class="headertitle">
<div class="title">Error Error Handling</div>  </div>
</div><!--header-->
<div class="contents">

<p>Unified error handling.  
<a href="#details">More...</a></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="nested-classes"></a>
Classes</h2></td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">class &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classmlib_1_1errfac.html">mlib::errfac</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight">An error facility routes a group of errors handled in a similar manner.  <a href="classmlib_1_1errfac.html#details">More...</a><br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">class &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classmlib_1_1erc.html">mlib::erc</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight">objects returned as a function result or thrown directly.  <a href="classmlib_1_1erc.html#details">More...</a><br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<p>erc objects are a cross between exceptions and return values. A function can return an erc object and the caller can check it just like a regular return value as in this example: </p><div class="fragment"><div class="line">erc func ()</div>
<div class="line">{</div>
<div class="line">  <span class="keywordflow">return</span> erc(1);</div>
<div class="line">}</div>
<div class="line"> </div>
<div class="line">main () {</div>
<div class="line">  <span class="keywordflow">if</span> (func() != 1) {</div>
<div class="line">    ...</div>
<div class="line">  }</div>
<div class="line">}</div>
</div><!-- fragment --><p>However with ercs, if the return result is not checked, it might be thrown as an exception as in the following example. </p><div class="fragment"><div class="line">erc func ()</div>
<div class="line">{</div>
<div class="line">  <span class="keywordflow">return</span> erc(1);</div>
<div class="line">}</div>
<div class="line">main () {</div>
<div class="line">  <span class="keywordflow">try</span> {</div>
<div class="line">    func ();</div>
<div class="line">    ...</div>
<div class="line">  }</div>
<div class="line">  <span class="keywordflow">catch</span> (erc&amp; err) {</div>
<div class="line">   printf (<span class="stringliteral">&quot;func result %d&quot;</span>, (<span class="keywordtype">int</span>)err);</div>
<div class="line">  }</div>
<div class="line">}</div>
</div><!-- fragment --><p>This dual behavior is obtained by having erc objects throwing an exception in their destructor if the object is "active". An object is marked as "inactive" every time the integer conversion operator is invoked like in the first example. </p>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated on Wed Jul 8 2020 21:54:04 for MLIB by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.18
</small></address>
</body>
</html>
